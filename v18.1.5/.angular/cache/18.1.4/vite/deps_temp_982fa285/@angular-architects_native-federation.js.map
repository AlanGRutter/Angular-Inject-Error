{
  "version": 3,
  "sources": ["../../../../../node_modules/.pnpm/@softarc+native-federation-runtime@2.0.10/node_modules/@softarc/native-federation-runtime/fesm2022/softarc-native-federation-runtime.mjs"],
  "sourcesContent": ["function mergeImportMaps(map1, map2) {\n  return {\n    imports: {\n      ...map1.imports,\n      ...map2.imports\n    },\n    scopes: {\n      ...map1.scopes,\n      ...map2.scopes\n    }\n  };\n}\nconst nfNamespace = '__NATIVE_FEDERATION__';\nconst global = globalThis;\nglobal[nfNamespace] ??= {\n  externals: new Map(),\n  remoteNamesToRemote: new Map(),\n  baseUrlToRemoteNames: new Map()\n};\nconst globalCache = global[nfNamespace];\nconst externals = globalCache.externals;\nfunction getExternalKey(shared) {\n  return `${shared.packageName}@${shared.version}`;\n}\nfunction getExternalUrl(shared) {\n  const packageKey = getExternalKey(shared);\n  return externals.get(packageKey);\n}\nfunction setExternalUrl(shared, url) {\n  const packageKey = getExternalKey(shared);\n  externals.set(packageKey, url);\n}\nfunction getDirectory(url) {\n  const parts = url.split('/');\n  parts.pop();\n  return parts.join('/');\n}\nfunction joinPaths(path1, path2) {\n  while (path1.endsWith('/')) {\n    path1 = path1.substring(0, path1.length - 1);\n  }\n  if (path2.startsWith('./')) {\n    path2 = path2.substring(2, path2.length);\n  }\n  return `${path1}/${path2}`;\n}\nconst remoteNamesToRemote = globalCache.remoteNamesToRemote;\nconst baseUrlToRemoteNames = globalCache.baseUrlToRemoteNames;\nfunction addRemote(remoteName, remote) {\n  remoteNamesToRemote.set(remoteName, remote);\n  baseUrlToRemoteNames.set(remote.baseUrl, remoteName);\n}\nfunction getRemoteNameByBaseUrl(baseUrl) {\n  return baseUrlToRemoteNames.get(baseUrl);\n}\nfunction isRemoteInitialized(baseUrl) {\n  return baseUrlToRemoteNames.has(baseUrl);\n}\nfunction getRemote(remoteName) {\n  return remoteNamesToRemote.get(remoteName);\n}\nfunction hasRemote(remoteName) {\n  return remoteNamesToRemote.has(remoteName);\n}\nfunction appendImportMap(importMap) {\n  document.head.appendChild(Object.assign(document.createElement('script'), {\n    type: 'importmap-shim',\n    innerHTML: JSON.stringify(importMap)\n  }));\n}\nasync function initFederation(remotesOrManifestUrl = {}) {\n  const remotes = typeof remotesOrManifestUrl === 'string' ? await loadManifest(remotesOrManifestUrl) : remotesOrManifestUrl;\n  const hostImportMap = await processHostInfo();\n  const remotesImportMap = await processRemoteInfos(remotes);\n  const importMap = mergeImportMaps(hostImportMap, remotesImportMap);\n  appendImportMap(importMap);\n  return importMap;\n}\nasync function loadManifest(remotes) {\n  return await fetch(remotes).then(r => r.json());\n}\nasync function processRemoteInfos(remotes) {\n  const processRemoteInfoPromises = Object.keys(remotes).map(async remoteName => {\n    try {\n      const url = remotes[remoteName];\n      return await processRemoteInfo(url, remoteName);\n    } catch (e) {\n      console.error(`Error loading remote entry for ${remoteName} from file ${remotes[remoteName]}`);\n      return null;\n    }\n  });\n  const remoteImportMaps = await Promise.all(processRemoteInfoPromises);\n  const importMap = remoteImportMaps.reduce((acc, remoteImportMap) => remoteImportMap ? mergeImportMaps(acc, remoteImportMap) : acc, {\n    imports: {},\n    scopes: {}\n  });\n  return importMap;\n}\nasync function processRemoteInfo(federationInfoUrl, remoteName) {\n  const baseUrl = getDirectory(federationInfoUrl);\n  const remoteInfo = await loadFederationInfo(federationInfoUrl);\n  if (!remoteName) {\n    remoteName = remoteInfo.name;\n  }\n  const importMap = createRemoteImportMap(remoteInfo, remoteName, baseUrl);\n  addRemote(remoteName, {\n    ...remoteInfo,\n    baseUrl\n  });\n  return importMap;\n}\nfunction createRemoteImportMap(remoteInfo, remoteName, baseUrl) {\n  const imports = processExposed(remoteInfo, remoteName, baseUrl);\n  const scopes = processRemoteImports(remoteInfo, baseUrl);\n  return {\n    imports,\n    scopes\n  };\n}\nasync function loadFederationInfo(url) {\n  const info = await fetch(url).then(r => r.json());\n  return info;\n}\nfunction processRemoteImports(remoteInfo, baseUrl) {\n  const scopes = {};\n  const scopedImports = {};\n  for (const shared of remoteInfo.shared) {\n    const outFileName = getExternalUrl(shared) ?? joinPaths(baseUrl, shared.outFileName);\n    setExternalUrl(shared, outFileName);\n    scopedImports[shared.packageName] = outFileName;\n  }\n  scopes[baseUrl + '/'] = scopedImports;\n  return scopes;\n}\nfunction processExposed(remoteInfo, remoteName, baseUrl) {\n  const imports = {};\n  for (const exposed of remoteInfo.exposes) {\n    const key = joinPaths(remoteName, exposed.key);\n    const value = joinPaths(baseUrl, exposed.outFileName);\n    imports[key] = value;\n  }\n  return imports;\n}\nasync function processHostInfo() {\n  const hostInfo = await loadFederationInfo('./remoteEntry.json');\n  const imports = hostInfo.shared.reduce((acc, cur) => ({\n    ...acc,\n    [cur.packageName]: './' + cur.outFileName\n  }), {});\n  for (const shared of hostInfo.shared) {\n    setExternalUrl(shared, './' + shared.outFileName);\n  }\n  return {\n    imports,\n    scopes: {}\n  };\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nasync function loadRemoteModule(optionsOrRemoteName, exposedModule) {\n  const options = normalizeOptions(optionsOrRemoteName, exposedModule);\n  await ensureRemoteInitialized(options);\n  const remoteName = getRemoteNameByOptions(options);\n  const remote = getRemote(remoteName);\n  if (!remote) {\n    throw new Error('unknown remote ' + remoteName);\n  }\n  const exposed = remote.exposes.find(e => e.key === options.exposedModule);\n  if (!exposed) {\n    throw new Error(`Unknown exposed module ${options.exposedModule} in remote ${remoteName}`);\n  }\n  const url = joinPaths(remote.baseUrl, exposed.outFileName);\n  const module = await importShim(url);\n  return module;\n}\nfunction getRemoteNameByOptions(options) {\n  let remoteName;\n  if (options.remoteName) {\n    remoteName = options.remoteName;\n  } else if (options.remoteEntry) {\n    const baseUrl = getDirectory(options.remoteEntry);\n    remoteName = getRemoteNameByBaseUrl(baseUrl);\n  } else {\n    throw new Error('unexpcted arguments: Please pass remoteName or remoteEntry');\n  }\n  if (!remoteName) {\n    throw new Error('unknown remoteName ' + remoteName);\n  }\n  return remoteName;\n}\nasync function ensureRemoteInitialized(options) {\n  if (options.remoteEntry && !isRemoteInitialized(getDirectory(options.remoteEntry))) {\n    const importMap = await processRemoteInfo(options.remoteEntry);\n    appendImportMap(importMap);\n  }\n}\nfunction normalizeOptions(optionsOrRemoteName, exposedModule) {\n  let options;\n  if (typeof optionsOrRemoteName === 'string' && exposedModule) {\n    options = {\n      remoteName: optionsOrRemoteName,\n      exposedModule\n    };\n  } else if (typeof optionsOrRemoteName === 'object' && !exposedModule) {\n    options = optionsOrRemoteName;\n  } else {\n    throw new Error('unexpected arguments: please pass options or a remoteName/exposedModule-pair');\n  }\n  return options;\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { initFederation, loadRemoteModule, processRemoteInfo };\n"],
  "mappings": "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",
  "names": []
}
